<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Form</title>  
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .container {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            width: 100%;
        }

        h2 {
            text-align: center;
            color: #58D68D;
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: #333;
        }

        input[type="text"], input[type="file"], select {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-sizing: border-box;
        }

        input[type="file"] {
            padding: 5px;
        }

        button {
            width: 100%;
            padding: 12px;
            background-color: #58D68D;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #45b469;
        }

        .form-group {
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Place Your Order</h2>
        <div class="form-group">
            <label for="name">Order Taken By:</label>
            <select id="name" required>
                <option value="Susam">Susam</option>
                <option value="Bishes">Bishes</option>
                <option value="Suraj">Suraj</option>
                <option value="Rabin">Rabin</option>
            </select>
        </div>
        <div class="form-group">
            <label for="product">Product:</label>
            <input type="text" id="product" required>
        </div>
        <div class="form-group">
            <label for="customer-name">Customer's Name:</label>
            <input type="text" id="customer-name" required>
        </div>
        <div class="form-group">
            <label for="social-media">Preferred Social Media:</label>
            <select id="social-media" required>
                <option value="Instagram">Instagram</option>
                <option value="Messenger">Messenger</option>
                <option value="WhatsApp">WhatsApp</option>
                <option value="Discord">Discord</option>
            </select>
        </div>
        <div class="form-group">
            <label for="payment-received-on">Payment Received On:</label>
            <input type="text" id="payment-received-on" required>
        </div>
        <div class="form-group">
            <label for="photo">Payment Screenshot:</label>
            <input type="file" id="photo" accept="image/*" required>
        </div>
        <button onclick="discord()">Send Message</button>
    </div>

    <script>
        async function discord() {
            try {
                var name = document.getElementById("name").value;
                var product = document.getElementById("product").value;
                var customerName = document.getElementById("customer-name").value;
                var socialMedia = document.getElementById("social-media").value;
                var paymentReceivedOn = document.getElementById("payment-received-on").value;
                var photo = document.getElementById("photo").files[0];

                const imgurUploadURL = "https://api.imgur.com/3/image";
                const imgurClientID = "1a5ecdafbffffc0"; // Replace with your Imgur Client ID

                const formData = new FormData();
                formData.append('image', photo);

                const imgurResponse = await fetch(imgurUploadURL, {
                    method: 'POST',
                    headers: {
                        Authorization: `Client-ID ${imgurClientID}`
                    },
                    body: formData
                });

                const imgurData = await imgurResponse.json();
                const imageURL = imgurData.data.link;

                const webhookURL = "https://discord.com/api/webhooks/1281527734874669128/sp0-XqkZrtcpQ2jCM64EqmxTxqK1IAN8oa54EDwii14FyDVV3DxFeus2SLuwbq6EhJPA"; // Replace with your Discord webhook URL

                const response = await fetch(webhookURL, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        embeds: [
                            {
                                title: "New Order Received",
                                description: `${name} just ordered ${product}.`,
                                color: 5814783, 
                                fields: [
                                    {
                                        name: "Order Taken By",
                                        value: name,
                                        inline: true
                                    },
                                    {
                                        name: "Customer's Name",
                                        value: customerName,
                                        inline: true
                                    },
                                    {
                                        name: "Product",
                                        value: product,
                                        inline: true
                                    },
                                    {
                                        name: "Preferred Social Media",
                                        value: socialMedia,
                                        inline: true
                                    },
                                    {
                                        name: "Payment Received On",
                                        value: paymentReceivedOn,
                                        inline: true
                                    }
                                ],
                                image: {
                                    url: imageURL
                                },
                                footer: {
                                    text: "Order System",
                                    icon_url: "https://img.icons8.com/ios-filled/50/000000/discord-logo.png"
                                },
                                timestamp: new Date()
                            }
                        ]
                    })
                });

                if (response.status === 204) {
                    document.getElementById("name").value = "";
                    document.getElementById("product").value = "";
                    document.getElementById("customer-name").value = "";
                    document.getElementById("social-media").value = "";
                    document.getElementById("payment-received-on").value = "";
                    document.getElementById("photo").value = "";
                    alert("Your Order Has Been Placed");
                } else {
                    console.error("Error sending message to Discord:", response.statusText);
                }
            } catch (error) {
                console.error("Error sending message to Discord:", error);
            }
        }
    </script>
</body>
</html>
